syntax = "proto3";

package embedded_design_tools;

import "misc/pin_enums.proto";

enum MeasurementType {
    FREQUENCY = 0;
    DUTY = 1;
    PULSE_WIDTH = 2;
    PULSE_COUNT = 3;
}

message PwmIn {
    oneof TargetPad {
        uint32 pad_index = 1;
        string pad_name = 2;
        string pin_name = 3;
    }
    optional uint32 polarity = 4;
    optional ValueType value_type = 5;
    MeasurementType measurement_type = 6;
}

message PwmOut {
    oneof TargetPad {
        uint32 pad_index = 1;
        string pad_name = 2;
        string pin_name = 3;
    }
    optional uint32 polarity = 4;
    optional ValueType value_type = 5;
    MeasurementType output_type = 6;
    float output_value = 7;
}
